<div class="specie-page">
  <div class="close-button">
    <a (click)="hideSpecie()">X</a>
  </div>
  <div class="specie-content">
    <form [formGroup]="form">
      <div class="specie-info">
        <div id="name">
          <label>Name</label> <input type="text" formControlName="name" [ngModel]="specie.name">
        </div>
        <div id="lifeSpan">
          <label>Life Span</label><input type="number" formControlName="lifeSpan" [ngModel]="specie.lifeSpan">
        </div>
        <div id="extinctionLevel">
          <label>Exctinction Level</label><select formControlName="extinctionLevel" [ngModel]="specie.extinctionLevel">
          <option *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]" [value]="i">{{i}}</option>
        </select>
        </div>
        <div id="alimentation">
          <label>Alimentations</label> <select formControlName="alimentation" [ngModel]="specie.alimentation">
          <option *ngFor="let a of alimentations" [value]="a">{{a}}</option>
        </select>
        </div>
        <div id="update">
          <button (click)="update()" [disabled]="!form.valid">Update</button>
        </div>
      </div>
      <h2 align="center">Fishes List</h2>
      <div class="fish-list">
        <table>
          <thead>
          <tr>
            <th (click)="sort(0)">
              ID{{this.field == 0 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th (click)="sort(1)">
              Name{{this.field == 1 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th (click)="sort(2)">
              Gender{{this.field == 2 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th>
              Distinct Sign
            </th>
            <th (click)="sort(3)">
              Arrival Date{{this.field == 3 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th (click)="sort(4)">
              Return Date{{this.field == 4 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th (click)="sort(6)">
              Pool{{this.field == 6 ? (this.ascendent ? "▼" : "▲") : ""}}
            </th>
            <th>
              Retire
            </th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let fish of fishList">
            <td>{{fish.id}}</td>
            <td>{{fish.name}}</td>
            <td>{{fish.gender}}</td>
            <td>{{fish.distinctSign}}</td>
            <td>{{this.datePipe.transform(fish.arrivalDate, 'dd/MM/yyyy, HH:mm')}}</td>
            <td>{{(fish.returnDate != null) ? this.datePipe.transform(fish.returnDate, 'dd/MM/yyyy, HH:mm') : "Not yet"}}</td>
            <td>{{fish.pool}}</td>
            <td>
              <button [disabled]="fish.returnDate!=null" (click)="retireAnimal(fish)">Retire</button>
            </td>
            <td>
              <button>Remove</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>
</div>
